<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <script>
    var testAppId='217553268264142';
  </script>
  <script src="javascripts/jquery.min.js"></script>
  <script src="javascripts/jquery-ui.min.js"></script>
  <script src="http://connect.facebook.net/en_US/all.js"></script>
  <script src="friendcompleter.js"></script>
  <script src="wallpost.js"></script>

  <link href="stylesheets/jquery-ui-1.8.13.custom.css?1305925157" media="screen" rel="stylesheet" type="text/css" /> 

  <title>rjacoby/friendcompleter @ GitHub</title>

  <style type="text/css">
    body {
      margin-top: 1.0em;
      background-color: #eeeeee;
      font-family: Helvetica, Arial, FreeSans, san-serif;
      color: #000000;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
    h1 { font-size: 3.8em; color: #609; margin-bottom: 3px; }
    h1 .small { font-size: 0.4em; }
    h1 a { text-decoration: none }
    h2 { font-size: 1.5em; color: #609; }
    h3 { text-align: center; color: #609; }
    a { color: #609; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
    pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }

    div.prompt {
      margin: 8px 0px;
    }
  </style>
</head>

<body>
  <div id="fb-root"></div>

  <a href="http://github.com/rjacoby/friendcompleter"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">

    <h1><a href="http://github.com/rjacoby/friendcompleter">friendcompleter</a>
      <span class="small">by <a href="http://github.com/rjacoby">rjacoby</a></span></h1>

    <div class="description">
      friendcompleter is a simple Javascript library that implements an autocompleter for Facebook friends which populates the Facebook ID into a hidden field. This could be used for passing a friend ID into the <a href="http://developers.facebook.com/docs/reference/dialogs/feed/">Facebook Feed Dialog</a> for posting on their wall, or any other use where you need to select an ID from the friend list.
    </div>

    <h2>Demo</h2>
    <script>
      FB.init({ appId:testAppId, cookie:true, status:true, xfbml:true });

      // Change state with events from FB's button
      FB.Event.subscribe('auth.statusChange', function(response) {
        toggleContent();
      });

      // Pick up current state.
      toggleContent();
    </script>
    <div class="demo">
      <fb:login-button autologoutlink="true"></fb:login-button>
      <div id='picker'></div>
    </div>

    <h2>Dependencies</h2>
    <p>
    <ul>
      <li><a href="http://developers.facebook.com/docs/reference/javascript">Facebook Javascript SDK</a></li>
      <li><a href="http://jqueryui.com">jQuery UI</a></li>
    </ul>

    <h2>How It Works (and Why It May Not)</h2
<p><em>This plugin is kind of a crazy idea.</em></p> 
 
<p>A designer wanted to do the old-school "post to your friend's wall"
thing. Facebook's JS SDK dialogs still support this, if you know the
friend's Facebook ID. But there's no blessed picker anymore for that,
so...</p> 
 
<p>What it does:</p> 
 
<ul> 
<li>Uses the current FB object to make a graph call and get the current
user's friends</li> 
<li>Converts that JSON into a structure that jQuery UI's autocomplete
likes</li> 
<li>Provides functions that let autocomplete use the local friend list as
a source.</li> 
</ul><p>This is really an experiment. Is the browser the right place to pull
down thousands of friends from Facebook and search through them?
Probably not - but we can do it anyway, without any server backend.</p> 
 
<h2>Does It Scale?</h2> 
 
<p>Short answer: maybe.</p> 
 
<p>While jQuery's site tells you not to autocomplete against 100+ items
locally, Chrome and Firefox seem to be pretty good at this. I've tested
it with a user that has 5000 friends, and it was quite snappy.</p> 
 
<p>How will IE handle it? Not tested yet...</p> 
 
<p>Also, it only caches the friend list for the life of the current page.
This could be really horrible!</p> 
 
<h2>Assumptions</h2> 
 
<ul> 
<li>User is logged in to Facebook.</li> 
<li>Application has permission to get user's friend list.</li> 
</ul><h2>Usage</h2> 
 
<ul> 
<li>Add to your included scripts, after Facebook and jQuery UI.</li> 
<li>Add a call to <code>setupFriendCompleter(yourAutocompleteFieldId);</code> after Facebook JS has been initialized. One place to do this is inside the recommended <code>window.fbAsyncInit</code> function. Make sure <code>yourAutocompleteFieldId</code> is a usable target for jQuery's <code>$</code> operator, e.g. <code>input#myFriendCompleter</code>.</li> 
<li>Call <code>$('input#fbFriendId').val()</code> in your code to get the selected
friend's Facebook ID.</li> 
</ul>
    

<h2>Authors</h2>
<p>Rafi Jacoby (rjacoby@astrokid.com)<br/><br/>      </p>

    <h2>Download</h2>
    <p>
      You can download this project in either
      <a href="http://github.com/rjacoby/friendcompleter/zipball/master">zip</a> or
      <a href="http://github.com/rjacoby/friendcompleter/tarball/master">tar</a> formats.
    </p>
    <p>You can also clone the project with <a href="http://git-scm.com">Git</a>
      by running:
      <pre>$ git clone git://github.com/rjacoby/friendcompleter</pre>
    </p>

    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/rjacoby/friendcompleter">rjacoby/friendcompleter</a>
    </div>

  </div>

  
</body>
</html>
